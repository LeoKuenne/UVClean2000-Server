(function(e){function t(t){for(var r,n,i=t[0],c=t[1],l=t[2],d=0,h=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&h.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={managment:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("5c71")},"08ec":function(e,t,a){},2068:function(e,t,a){},"33c6":function(e,t,a){"use strict";a("2068")},"3d4d":function(e,t,a){"use strict";a("9170")},"3e19":function(e,t,a){},"3ec2":function(e,t,a){"use strict";a("5aec")},"3f7b":function(e,t,a){},"4a9d":function(e,t,a){},"5aec":function(e,t,a){},"5b8b":function(e,t,a){},"5c71":function(e,t,a){"use strict";a.r(t);a("4de4"),a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d"),a("96cf");var r=a("1da1"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),o=a("b079"),n=a.n(o),i=a("8e27"),c=a.n(i),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shadow-md text-color background-color h-screen w-screen overflow-hidden text-primary",attrs:{id:"app"}},[a("header",{staticClass:"p-5 w-screen flex-shrink flex flex-row items-center justify-between shadow-md",staticStyle:{"background-image":"linear-gradient(125deg, #00666F 0%, #00666F 40%, #fff calc(40% + 1px), #fff 100%)",height:"10%"}},[a("router-link",{staticClass:"h-full",attrs:{to:{name:"dashboard"}}},[a("svg",{staticClass:"text-white h-full",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 252.7 118.91"}},[a("g",{attrs:{id:"Ebene_2","data-name":"Ebene 2"}},[a("g",{attrs:{id:"Ebene_1-2","data-name":"Ebene 1"}},[a("path",{attrs:{d:"M20.26,104c-.35,0-.52-.18-.52-.54a.46.46,0,0,1,.52-.53h3.13V96a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v6.93h3.13a.54.54,0,0,1,0,1.07H24.43v14.4c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V104Z"}}),a("path",{attrs:{d:"M39.66,107.9a3.79,3.79,0,0,0-1.15-2.77,3.83,3.83,0,0,0-5.47,0,3.85,3.85,0,0,0-1.14,2.72v10.53a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53V103.44a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v1.4c.13-.16.27-.31.41-.46a4.83,4.83,0,0,1,6.94,0,4.81,4.81,0,0,1,1.44,3.52v0a.52.52,0,1,1-1,0Z"}}),a("path",{attrs:{d:"M52.45,103.44c0-.35.16-.53.5-.53a.47.47,0,0,1,.53.53v10.48A4.81,4.81,0,0,1,52,117.44a4.83,4.83,0,0,1-6.94,0,4.79,4.79,0,0,1-1.45-3.52V103.44a.47.47,0,0,1,.53-.53c.34,0,.5.18.5.53v10.48a3.84,3.84,0,0,0,1.15,2.79,3.85,3.85,0,0,0,5.47,0,3.84,3.84,0,0,0,1.15-2.79Z"}}),a("path",{attrs:{d:"M61.35,102.91h.38a4.83,4.83,0,0,1,2,.57A5,5,0,0,1,65.5,105a.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.67,3.67,0,0,0-1.74-.43,3.05,3.05,0,0,0-2.21.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25H61.1a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.46.46,0,0,1,.12-.72.45.45,0,0,1,.73.12,3.88,3.88,0,0,0,1.39,1.22,3.74,3.74,0,0,0,1.77.44h.63a3,3,0,0,0,2.22-.94,3.09,3.09,0,0,0,1-2.27,2.69,2.69,0,0,0-1.24-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),a("path",{attrs:{d:"M67.92,104a.54.54,0,0,1,0-1.07h3.13V96a.47.47,0,0,1,.52-.53.46.46,0,0,1,.51.53v6.93h3.14a.54.54,0,0,1,0,1.07H72.08v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),a("path",{attrs:{d:"M79.55,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.08,1h-.08v2.77a3.83,3.83,0,0,0,1.14,2.79,3.75,3.75,0,0,0,2.75,1.14,3.71,3.71,0,0,0,2.07-.61,4,4,0,0,0,1.43-1.66.52.52,0,1,1,.94.44,4.9,4.9,0,0,1-1.82,2.11,4.73,4.73,0,0,1-2.62.78A4.66,4.66,0,0,1,80,117.44a4.79,4.79,0,0,1-1.45-3.52v-6A4.8,4.8,0,0,1,80,104.38a4.66,4.66,0,0,1,3.47-1.47,4.7,4.7,0,0,1,3.47,1.47,4.82,4.82,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M101.77,107.86a3.86,3.86,0,0,0-1.15-2.73,3.83,3.83,0,0,0-5.47,0A3.78,3.78,0,0,0,94,107.9v6a3.83,3.83,0,0,0,1.14,2.79,3.85,3.85,0,0,0,5.47,0,3.92,3.92,0,0,0,1.15-2.74Zm0-11.88c0-.35.17-.53.5-.53a.47.47,0,0,1,.53.53v22.4a.46.46,0,0,1-.53.53c-.33,0-.5-.17-.5-.53V117a5.74,5.74,0,0,1-.41.45,4.83,4.83,0,0,1-6.94,0A4.82,4.82,0,0,1,93,113.92v-6a4.84,4.84,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,5.87,5.87,0,0,1,.41.46Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M117.63,110.11h7.75V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M131.82,96a.52.52,0,1,1,1,0v22.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M139.29,110.11H147V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M160.42,118.38c0,.36-.17.53-.51.53a.47.47,0,0,1-.54-.53V106.82a2.76,2.76,0,0,0-.82-2,2.67,2.67,0,0,0-2-.83,2.7,2.7,0,0,0-2,.83,2.77,2.77,0,0,0-.83,2v11.56c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V103.44a.52.52,0,1,1,1,0v.72a3.86,3.86,0,0,1,2.82-1.25,3.67,3.67,0,0,1,2.72,1.16,3.43,3.43,0,0,1,.62.8,4,4,0,0,1,.61-.8,3.67,3.67,0,0,1,2.72-1.16,3.71,3.71,0,0,1,2.73,1.16,3.78,3.78,0,0,1,1.13,2.75v11.56c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V106.82a2.77,2.77,0,0,0-.83-2,2.8,2.8,0,0,0-4,0,2.76,2.76,0,0,0-.82,2Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M172.75,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.92,3.92,0,0,0,1.44-1.66.46.46,0,0,1,.69-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.82,4.82,0,0,1-1.45-3.52v-6a4.84,4.84,0,0,1,1.45-3.52,4.84,4.84,0,0,1,7,0,4.86,4.86,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M195,107.9a3.78,3.78,0,0,0-1.14-2.77,3.7,3.7,0,0,0-2.73-1.15,3.74,3.74,0,0,0-2.75,1.15,3.85,3.85,0,0,0-1.14,2.72v10.53a.52.52,0,1,1-1,0V103.44a.52.52,0,1,1,1,0v1.4c.14-.16.27-.31.42-.46a4.83,4.83,0,0,1,6.94,0A4.81,4.81,0,0,1,196,107.9v10.48a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M199.3,104a.54.54,0,0,1,0-1.07h3.13V96a.52.52,0,1,1,1,0v6.93h3.14a.54.54,0,0,1,0,1.07h-3.14v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),a("path",{staticClass:"cls-1",attrs:{d:"M213.14,102.91h.38a4.83,4.83,0,0,1,2,.57,5,5,0,0,1,1.76,1.56.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.68,3.68,0,0,0-1.75-.43,3,3,0,0,0-2.2.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25h-.63a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.52.52,0,0,1,.85-.6,3.93,3.93,0,0,0,1.38,1.22,3.81,3.81,0,0,0,1.78.44h.63a3,3,0,0,0,2.22-.94,3.08,3.08,0,0,0,.94-2.27,2.68,2.68,0,0,0-1.23-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),a("polygon",{staticClass:"cls-1",attrs:{points:"29.18 16.42 19.71 16.42 0 16.42 0 26.39 19.71 26.39 19.71 82.38 29.18 82.38 29.18 26.39 48.84 26.39 48.84 16.42 29.18 16.42"}}),a("polygon",{staticClass:"cls-1",attrs:{points:"105.38 26.56 105.38 16.42 75.22 16.42 65.76 16.42 65.76 26.56 65.76 44.33 65.76 54.47 65.76 72.24 65.76 82.38 75.22 82.38 105.38 82.38 105.38 72.24 75.22 72.24 75.22 54.47 104.72 54.47 104.72 44.33 75.22 44.33 75.22 26.56 105.38 26.56"}}),a("polygon",{staticClass:"cls-1",attrs:{points:"211.41 26.81 224.28 49.4 211.41 72 185.68 72 172.82 49.4 180.63 35.69 168.8 35.69 160.99 49.4 179.77 82.38 217.33 82.38 236.11 49.4 217.33 16.42 201.58 16.42 195.67 26.81 211.41 26.81"}}),a("polygon",{staticClass:"cls-1",attrs:{points:"153.4 72 140.53 49.4 153.4 26.81 179.13 26.81 192 49.4 184.19 63.12 196.01 63.12 203.83 49.4 185.04 16.42 147.49 16.42 128.71 49.4 147.49 82.38 163.23 82.38 169.15 72 153.4 72"}}),a("path",{staticClass:"cls-1",attrs:{d:"M242.7,4.61h2c1,0,2.12.2,2.12,1.47,0,1.52-1.21,1.58-2.54,1.58H242.7ZM241.21,13h1.49V8.87h1.59L246.92,13h1.61l-2.76-4.24a2.48,2.48,0,0,0,2.54-2.61c0-1.85-1.08-2.75-3.38-2.75h-3.72Zm-3.6-4.83a6.8,6.8,0,1,1,13.59,0,6.8,6.8,0,1,1-13.59,0m-1.5,0A8.3,8.3,0,1,0,244.43,0a8.22,8.22,0,0,0-8.32,8.17"}})])])])]),a("div",{staticClass:"relative flex items-center"},[a("div",{staticClass:"text-color px-5 text-base align-baseline"},[a("dropdown-menu",{staticClass:"text-primary z-10",attrs:{showIcon:!1,menuItems:[{text:"Devices",disabled:!1},{text:"Groups",disabled:!1}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}},[e._v(" Dashboard ")])],1),a("div",{staticClass:"text-color px-5 text-base align-baseline"},[a("dropdown-menu",{staticClass:"text-primary z-10",attrs:{showIcon:!1,menuItems:[{text:"Device",disabled:!1},{text:"Group",disabled:!1}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}},[e._v(" Charts ")])],1),!0===e.$dataStore.user.canEdit?a("router-link",{staticClass:"text-color px-5 text-base align-baseline",attrs:{to:{name:"settings"}}},[e._v(" Settings ")]):e._e(),a("button",{staticClass:"flex items-center space-x-1",on:{click:e.logout}},[a("span",[e._v(e._s(e.$dataStore.user.username))]),a("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468\n            11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}})])])],1)],1),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticStyle:{height:"90%"}})],1)],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.dropdownOutsideClicked,expression:"dropdownOutsideClicked"}],staticClass:"relative",on:{click:e.dropdownMenuClicked}},[a("button",{staticClass:"w-full h-full hover:transform hover:scale-105 transition-all"},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showIcon&&!e.showDropdown,expression:"showIcon && !showDropdown"}],staticClass:"w-6 h-6 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3\n      0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})]),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showIcon&&e.showDropdown,expression:"showIcon && showDropdown"}],staticClass:"w-6 h-6 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n        .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n        2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})]),e._t("default")],2),a("div",{staticClass:"relative",on:{click:function(e){e.stopPropagation()}}},[a("transition",{attrs:{name:"slide"}},[e.showDropdown?a("div",{staticClass:"absolute right-0 bg-white rounded overflow-hidden shadow\n          whitespace-nowrap text-right min-w-min"},e._l(e.activeMenuItems,(function(t){return a("button",{key:t.text,staticClass:"hover:bg-gray-200 w-full p-2 block text-right",on:{click:function(a){e.$emit("itemClicked",t.text),e.showDropdown=!1}}},[e._v(" "+e._s(t.text)+" ")])})),0):e._e()])],1)])},h=[],p={name:"DropdownMenu",props:["menuItems","showIcon"],methods:{dropdownMenuClicked:function(){this.showDropdown=!this.showDropdown},dropdownOutsideClicked:function(){this.showDropdown=!1}},data:function(){return{showDropdown:!1}},computed:{activeMenuItems:function(){return this.menuItems.filter((function(e){return!1===e.disabled}))}}};s["a"].directive("click-outside",{bind:function(e,t,a){e.clickOutsideEvent=function(r){e===r.target||e.contains(r.target)||a.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}});var m,v,f=p,g=(a("d270"),a("2877")),w=Object(g["a"])(f,d,h,!1,null,null,null),b=w.exports,C={components:{DropdownMenu:b},name:"App",computed:{currentViewComponent:function(){return this.currentView},deviceList:function(){return console.log("DeviceList getter/setter"),this.$root.$data.dataStore}},methods:{logout:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/logout").then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(e){window.location.href=e.url})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))()},menuItemClicked:function(e){switch(e){case"Device":this.$router.push({name:"DeviceChart"});break;case"Group":this.$router.push({name:"GroupChart"});break;case"Devices":this.$router.push({name:"devices"});break;case"Groups":this.$router.push({name:"groups"});break;default:break}}},created:function(){},data:function(){return{currentView:"UVCDeviceList"}}},x=C,_=(a("eb11"),Object(g["a"])(x,l,u,!1,null,null,null)),k=_.exports,y=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex text-color"},[a("Sidebar",{staticClass:"min-w-1/6",on:{showDevices:e.showDevices,showGroups:e.showGroups}}),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"w-5/6 h-full",on:{groupAdd:function(t){return e.groupAdd(t)},groupUpdate:function(t){return e.groupChangeState(t)},groupDelete:function(t){return e.groupDelete(t)}}})],1)],1)},D=[],M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-col p-5 bg-gray-200 space-y-5",attrs:{id:"sidebar"}},[a("div",{staticClass:"space-y-2"},[a("h1",{staticClass:"text-xl text-secondary font-bold"},[e._v("Overview")]),a("div",{staticClass:"w-full text-left text-primary hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all inline-flex items-center",class:["/dashboard/devices"===this.$route.path?"text-gray-600 transform scale-105 font-semibold":""],on:{click:function(t){return e.$emit("showDevices")}}},[a("svg",{staticClass:"w-5 h-5 mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0\n          0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z"}})]),e._v(" Show Devices ")]),a("div",{staticClass:"w-full text-left text-primary hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all inline-flex items-center",class:["/dashboard/groups"===this.$route.path?"text-gray-600 transform scale-105 font-semibold":""],on:{click:function(t){return e.$emit("showGroups")}}},[a("svg",{staticClass:"w-5 h-5 mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0\n          1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5\n          1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0\n          1-.5.5h-13z"}})]),e._v(" Show Groups ")])]),e._m(0)])},A=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"space-y-2"},[a("h1",{staticClass:"text-xl text-secondary font-bold pt-5"},[e._v("Controls")])])}],$={data:function(){return{device:{name:"",serialnumber:""}}},methods:{showAddForm:function(){this.prop_showAddForm=!0},addDevice:function(e){this.$emit("deviceAdd",e),this.prop_showAddForm=!1}}},F=$,V=Object(g["a"])(F,M,A,!1,null,null,null),E=V.exports,G={name:"Dashboard",components:{Sidebar:E},computed:{currentViewComponent:function(){return this.currentView}},methods:{showDevices:function(){this.$router.push({name:"devices"})},showGroups:function(){this.$router.push({name:"groups"})},deviceAddGroup:function(e){this.$root.$data.socket.emit("group_addDevice",{group:e.group,device:e.device})},deviceRemoveGroup:function(e){this.$root.$data.socket.emit("group_deleteDevice",{group:e.group,device:e.device})},groupAdd:function(e){this.$root.$data.socket.emit("group_add",e)},groupDelete:function(e){this.$root.$data.socket.emit("group_delete",{id:e})},groupChangeState:function(e){this.$root.$data.socket.emit("group_changeState",e)}},created:function(){},data:function(){return{prop_showAddForm:!1}}},O=G,P=(a("793c"),Object(g["a"])(O,S,D,!1,null,null,null)),z=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view",{staticClass:"w-full h-full"})],1)},L=[],R={name:"Chart"},I=R,T=(a("7eec"),Object(g["a"])(I,j,L,!1,null,null,null)),H=T.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex text-color"},[a("div",{staticClass:"w-1/6 flex flex-col p-5 bg-gray-200 space-y-5"},[a("div",{staticClass:"space-y-2"},[a("h1",{staticClass:"text-xl text-secondary font-bold"},[e._v("Overview")]),a("router-link",{staticClass:"w-full text-left text-primary hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all inline-flex items-center",class:["/settings/user"===this.$route.path?"text-gray-600 transform scale-105 font-semibold":""],attrs:{to:{name:"settingsUserList"}},on:{click:function(t){return e.$emit("showUser")}}},[a("svg",{staticClass:"w-5 h-5 mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75\n          1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"}}),a("path",{attrs:{d:"M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"}})]),e._v(" User ")])],1)]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view",{staticClass:"w-5/6 h-full p-12"})],1)],1)},B=[],N={name:"Settings",components:{},data:function(){return{prop_showAddForm:!1}}},Z=N,W=(a("a604"),Object(g["a"])(Z,U,B,!1,null,null,null)),q=W.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relativ"},[a("div",{staticClass:"absolute right-0 space-x-2 flex m-2"},[a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:e.showToggleAllCharts,expression:"showToggleAllCharts"}],staticClass:"p-2 bg-white shadow",on:{click:e.toggleAllCharts}},[e._v(e._s(e.toggleCharts)+" ")])]),a("button",{staticClass:"bg-primary p-2 text-white shadow",on:{click:function(t){e.showSettingPanel=!0}}},[a("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5\n        2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1\n        4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0\n        0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"}})])])]),e.showSettingPanel?a("div",{staticClass:"fixed top-0 left-0 h-screen w-screen\n    bg-black bg-opacity-50 flex justify-center items-center"},[a("div",{staticClass:"absolute flex flex-col p-5 bg-secondary space-y-5"},[a("div",{staticClass:"flex justify-between items-center"},[a("h1",{staticClass:"font-bold text-xl"},[e._v("Datavisualization")]),a("button",{staticClass:"bg-transparent hover:bg-transparent p-0 m-0",on:{click:function(t){e.showSettingPanel=!1}}},[a("svg",{staticClass:"w-6 h-6 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n              .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n              2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])]),a("span",{staticClass:"text-red-500 font-bold",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(e._s(e.errorMessage))]),a("div",{staticClass:"w-full"},[a("label",{attrs:{for:"device"}},[e._v("Choose the device:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDevice,expression:"selectedDevice"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"device",id:"device"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDevice=t.target.multiple?a:a[0]},function(t){e.showPropertie=!0}]}},e._l(e.devices,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),a("div",{class:[e.showPropertie||void 0!==e.selectedDevice?"visible":"invisible"]},[a("label",{attrs:{for:"propertie"}},[e._v("Choose the propertie:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPropertie,expression:"selectedPropertie"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"propertie",id:"propertie"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPropertie=t.target.multiple?a:a[0]},e.getDateDuration]}},[a("option",{attrs:{value:"airVolume"}},[e._v("Air Volume")]),a("option",{attrs:{value:"lampValues"}},[e._v("Lamp Values")]),a("option",{attrs:{value:"tacho"}},[e._v("Tachos")])])]),a("div",{class:[e.showDatepicker?"visible":"invisible"]},[a("label",{attrs:{for:"dateFrom"}},[e._v("Choose the start date:")]),a("div",{staticClass:"text-black w-full pb-5"},[a("datetime",{staticClass:"border border-primary",attrs:{id:"dateFrom","min-datetime":e.disabledDates.from,"max-datetime":e.selectedDateTo,type:"datetime"},model:{value:e.selectedDateFrom,callback:function(t){e.selectedDateFrom=t},expression:"selectedDateFrom"}})],1),a("label",{attrs:{for:"dateTo"}},[e._v("Choose the end date:")]),a("div",{staticClass:"text-black w-full"},[a("datetime",{staticClass:"border border-primary",attrs:{id:"dateTo","min-datetime":e.selectedDateFrom,"max-datetime":e.disabledDates.to,type:"datetime"},model:{value:e.selectedDateTo,callback:function(t){e.selectedDateTo=t},expression:"selectedDateTo"}})],1),a("button",{staticClass:"text-primary w-full text-center font-bold pt-5 hover:transform hover:scale-105\n            transition-all",class:[e.canRefresh?"visible":"invisible"],on:{click:e.refreshChart}},[e._v(" Refresh ")])])])]):e._e(),a("div",{staticClass:"h-full w-full"},[e.loaded?e._e():a("div",{staticClass:"absolute top-1/2 left-1/2 origin-center lds-ring"},[a("div"),a("div"),a("div"),a("div")]),e.loaded?a("chart",{staticClass:"p-16",style:e.chartStyles,attrs:{showAllCharts:e.showAllCharts,chartData:e.datacollection,options:e.options}}):e._e()],1)])},Y=[],K=(a("99af"),a("4160"),a("159b"),a("859b")),Q=(a("3f7b"),a("1fca")),X=(a("cadc"),{extends:Q["a"],props:["chartData","options","showAllCharts"],mounted:function(){this.renderLineChart()},methods:{renderLineChart:function(){this.renderChart(this.chartData,this.options)}},watch:{showAllCharts:function(){var e=this;this.$data._chart.data.datasets.forEach((function(t){t.hidden=e.showAllCharts})),this.$data._chart.update()}}}),ee=X,te=Object(g["a"])(ee,m,v,!1,null,null,null),ae=te.exports,re=a("1315"),se=re.DateTime,oe={components:{Chart:ae,datetime:K["Datetime"]},props:["device","propertie","from","to"],data:function(){return{loaded:!0,showPropertie:!1,showDatepicker:!1,showToggleAllCharts:!1,showSettingPanel:!0,showAllCharts:!0,selectedDevice:this.device,selectedPropertie:"",selectedDateFrom:"",selectedDateTo:"",errorMessage:"",devices:[],canRefresh:!1,disabledDates:{},datacollection:{},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",distribution:"linear",time:{tooltipFormat:"dd.MM.yyyy H:mm:ss",minUnit:"second",unit:"minute",displayFormats:{millisecond:"dd.MM.yyyy H:mm:ss",second:"dd.MM.yyyy H:mm:ss",minute:"dd.MM.yyyy H:mm:ss"}},ticks:{autoSkip:!0,maxRotation:90,minRotation:90}}],yAxes:[{ticks:{callback:function(e){return"".concat(e)}}}]}}}},computed:{toggleCharts:function(){return this.showAllCharts?"Show all charts":"Hide all charts"},chartStyles:function(){return{height:"100%",width:"100%",position:"relativ"}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:if(e.selectedDevice=e.device,e.selectedPropertie=e.propertie,!e.selectedPropertie){t.next=8;break}return e.showDatepicker=!0,t.next=8,e.getDateDuration();case 8:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e,t),r.next=3,a.fetchData();case 3:case"end":return r.stop()}}),r)})))()},selectedDateFrom:function(e){this.canRefresh=e!==this.from,this.selectedDateFrom=e},selectedDateTo:function(e){this.canRefresh=e!==this.to,this.selectedDateTo=e}},methods:{toggleAllCharts:function(){this.showAllCharts=!this.showAllCharts},outsideSettingPanelClicked:function(){this.showSettingPanel=!1},fetchData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDevices();case 2:if(void 0!==e.device){t.next=4;break}return t.abrupt("return");case 4:if(void 0!==e.propertie){t.next=6;break}return t.abrupt("return");case 6:if(void 0!==e.from){t.next=8;break}return t.abrupt("return");case 8:if(void 0!==e.to){t.next=10;break}return t.abrupt("return");case 10:return e.loaded=!1,e.showSettingPanel=!1,a=null,t.next=15,e.getDateDuration();case 15:return e.selectedDateFrom=e.from,e.selectedDateTo=e.to,t.next=19,fetch("/api/device?device=".concat(e.selectedDevice,"&propertie=").concat(e.propertie,"&from=").concat(e.from,"&to=").concat(e.to)).then((function(e){if(404===e.status)throw new Error("No data avalaible");return e.json()})).then((function(e){a=e})).catch((function(t){e.errorMessage=t}));case 19:r=[],t.t0=e.propertie,t.next="airVolume"===t.t0?23:"lampValues"===t.t0?26:"tacho"===t.t0?30:33;break;case 23:return e.datacollection.datasets=[{label:e.device,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1,spanGaps:!0}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.volume})})),t.abrupt("break",34);case 26:for(s=0;s<16;s+=1)o="rgba(0,".concat(50+205/16*s,",").concat(80+175/16*s,")"),r.push({label:"".concat(e.device," | Lamp ").concat(s+1),backgroundColor:o,borderColor:o,borderWidth:1,data:[],fill:!1,hidden:!0,spanGaps:!0});return a.forEach((function(e){r[e.lamp-1].data.push({t:se.fromISO(e.date),y:e.value})})),e.datacollection.datasets=r,t.abrupt("break",34);case 30:return e.datacollection.datasets=[{label:e.device,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.tacho})})),t.abrupt("break",34);case 33:return t.abrupt("break",34);case 34:e.showToggleAllCharts=!0,e.loaded=!0;case 36:case"end":return t.stop()}}),t)})))()},refreshChart:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"DeviceChart",query:{device:e.selectedDevice,propertie:e.selectedPropertie,from:e.selectedDateFrom,to:e.selectedDateTo}});case 2:case"end":return t.stop()}}),t)})))()},getDevices:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/serialnumbers").then((function(e){return e.json()})).then((function(t){e.devices=t}));case 2:case"end":return t.stop()}}),t)})))()},getDateDuration:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/timestamps?device=".concat(e.selectedDevice,"&propertie=").concat(e.selectedPropertie)).then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(t){e.disabledDates={from:t.from,to:t.to},e.selectedDateFrom=t.from,e.selectedDateTo=t.to,e.showDatepicker=!0})).catch((function(t){e.errorMessage=t,e.showDatepicker=!1}));case 2:case"end":return t.stop()}}),t)})))()}}},ne=oe,ie=(a("c9ef"),Object(g["a"])(ne,J,Y,!1,null,null,null)),ce=ie.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relativ"},[a("div",{staticClass:"absolute right-0 space-x-2 flex m-2"},[a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:e.showToggleAllCharts,expression:"showToggleAllCharts"}],staticClass:"p-2 bg-white shadow",on:{click:e.toggleAllCharts}},[e._v(e._s(e.toggleCharts)+" ")])]),a("button",{staticClass:"bg-primary p-2 text-white shadow",on:{click:function(t){e.showSettingPanel=!0,e.loaded=!0}}},[a("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5\n        2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1\n        4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0\n        0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"}})])])]),e.showSettingPanel?a("div",{staticClass:"fixed top-0 left-0 h-screen w-screen\n    bg-black bg-opacity-50 flex justify-center items-center",on:{click:e.outsideSettingPanelClicked}},[a("div",{staticClass:"absolute flex flex-col p-5 bg-secondary space-y-5",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"flex justify-between items-center"},[a("h1",{staticClass:"font-bold text-xl"},[e._v("Datavisualization")]),a("button",{staticClass:"bg-transparent hover:bg-transparent p-0 m-0",on:{click:function(t){e.showSettingPanel=!1}}},[a("svg",{staticClass:"w-6 h-6 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n              .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n              2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])]),a("span",{staticClass:"text-red-500 font-bold",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(e._s(e.errorMessage))]),a("div",{staticClass:"w-full"},[a("label",{attrs:{for:"group"}},[e._v("Choose the group:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGroup,expression:"selectedGroup"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"group",id:"group"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGroup=t.target.multiple?a:a[0]},function(t){e.showPropertie=!0}]}},e._l(e.groups,(function(t){return a("option",{key:t.serialnumber,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("div",{class:[e.showPropertie||void 0!==e.selectedGroup?"visible":"invisible"]},[a("label",{attrs:{for:"propertie"}},[e._v("Choose the propertie:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPropertie,expression:"selectedPropertie"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"propertie",id:"propertie"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPropertie=t.target.multiple?a:a[0]},e.getDateDuration]}},[a("option",{attrs:{value:"airVolume"}},[e._v("Air Volume")]),a("option",{attrs:{value:"tacho"}},[e._v("Tachos")])])]),a("div",{class:[e.showDatepicker?"visible":"invisible"]},[a("label",{attrs:{for:"dateFrom"}},[e._v("Choose the start date:")]),a("div",{staticClass:"text-black w-full pb-5"},[a("datetime",{staticClass:"border border-primary",attrs:{id:"dateFrom","min-datetime":e.disabledDates.from,"max-datetime":e.selectedDateTo,type:"datetime"},model:{value:e.selectedDateFrom,callback:function(t){e.selectedDateFrom=t},expression:"selectedDateFrom"}})],1),a("label",{attrs:{for:"dateTo"}},[e._v("Choose the end date:")]),a("div",{staticClass:"text-black w-full"},[a("datetime",{staticClass:"border border-primary",attrs:{id:"dateTo","min-datetime":e.selectedDateFrom,"max-datetime":e.disabledDates.to,type:"datetime"},model:{value:e.selectedDateTo,callback:function(t){e.selectedDateTo=t},expression:"selectedDateTo"}})],1),a("button",{staticClass:"text-primary w-full text-center font-bold pt-5 hover:transform hover:scale-105\n            transition-all",class:[e.canRefresh?"visible":"invisible"],on:{click:e.refreshChart}},[e._v(" Refresh ")])])])]):e._e(),a("div",{staticClass:"h-full w-full"},[e.loaded?e._e():a("div",{staticClass:"absolute top-1/2 left-1/2 origin-center lds-ring"},[a("div"),a("div"),a("div"),a("div")]),e.loaded?a("chart",{staticClass:"p-16",style:e.chartStyles,attrs:{showAllCharts:e.showAllCharts,chartData:e.datacollection,options:e.options}}):e._e()],1)])},ue=[],de=a("1315"),he=de.DateTime,pe={components:{Chart:ae,datetime:K["Datetime"]},props:["group","propertie","from","to"],data:function(){return{loaded:!0,showPropertie:!1,showDatepicker:!1,showToggleAllCharts:!1,showSettingPanel:!0,showAllCharts:!0,selectedGroup:this.group,selectedPropertie:"",selectedDateFrom:"",selectedDateTo:"",errorMessage:"",groups:[],canRefresh:!1,disabledDates:{},datacollection:{datasets:[]},options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",distribution:"linear",time:{tooltipFormat:"dd.MM.yyyy H:mm:ss",minUnit:"second",unit:"minute",displayFormats:{millisecond:"dd.MM.yyyy H:mm:ss",second:"dd.MM.yyyy H:mm:ss",minute:"dd.MM.yyyy H:mm:ss"}},ticks:{maxRotation:90,minRotation:90}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return"".concat(e)}}}]},tooltips:{mode:"label",callbacks:{label:function(e,t){for(var a=t.datasets[e.datasetIndex].label,r=t.datasets[e.datasetIndex].data[e.index],s=0,o=0;o<t.datasets.length;o+=1)!t.datasets[o].hidden&&t.datasets[o].data.length<e.index&&(s+=t.datasets[o].data[e.index].y);return e.datasetIndex!==t.datasets.length-1?"".concat(a,": ").concat(r.y):["".concat(a,": ").concat(r.y),"Total: ".concat(s)]}}}}}},computed:{toggleCharts:function(){return this.showAllCharts?"Show all charts":"Hide all charts"},chartStyles:function(){return{height:"100%",width:"100%",position:"relativ"}}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:case"end":return t.stop()}}),t)})))()},watch:{$route:function(){this.fetchData()},selectedDateFrom:function(e){this.canRefresh=e!==this.from,this.selectedDateFrom=e},selectedDateTo:function(e){this.canRefresh=e!==this.to,this.selectedDateTo=e}},methods:{toggleAllCharts:function(){this.showAllCharts=!this.showAllCharts},outsideSettingPanelClicked:function(){this.showSettingPanel=!1},fetchData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getGroups();case 2:if(void 0!==e.group){t.next=4;break}return t.abrupt("return");case 4:if(void 0!==e.propertie){t.next=6;break}return t.abrupt("return");case 6:if(void 0!==e.from){t.next=8;break}return t.abrupt("return");case 8:if(void 0!==e.to){t.next=10;break}return t.abrupt("return");case 10:return e.loaded=!1,e.showSettingPanel=!1,a=null,e.selectedGroup=e.groups[0],e.selectedPropertie=e.propertie,t.next=17,e.getDateDuration();case 17:return e.selectedDateFrom=e.from,e.selectedDateTo=e.to,t.next=21,fetch("/api/group?group=".concat(e.selectedGroup.id,"&propertie=").concat(e.propertie,"&from=").concat(e.from,"&to=").concat(e.to)).then((function(e){if(404===e.status)throw new Error("No data avalaible");return e.json()})).then((function(e){a=e})).catch((function(t){e.errorMessage=t}));case 21:if(void 0!==a){t.next=25;break}return e.showSettingPanel=!0,e.loaded=!0,t.abrupt("return");case 25:e.datacollection.datasets.length=0,t.t0=e.propertie,t.next="airVolume"===t.t0?29:"tacho"===t.t0?32:35;break;case 29:for(r=function(t){var r="rgba(0,".concat(50+205/a.length*t,",").concat(80+175/a.length*t,")");e.datacollection.datasets.push({label:"".concat(e.selectedGroup.name," | ").concat(a[t][0].device),backgroundColor:r,borderColor:r,borderWidth:1,data:[],fill:!1,hidden:!0}),a[t].forEach((function(a){e.datacollection.datasets[t].data.push({t:he.fromISO(a.date),y:a.volume})}))},s=0;s<a.length;s+=1)r(s);return t.abrupt("break",36);case 32:for(o=function(t){var r="rgba(0,".concat(50+205/a.length*t,",").concat(80+175/a.length*t,")");e.datacollection.datasets.push({label:"".concat(e.selectedGroup.name," | ").concat(a[t][0].device),backgroundColor:r,borderColor:r,borderWidth:1,data:[],fill:!1,hidden:!0}),a[t].forEach((function(a){e.datacollection.datasets[t].data.push({t:he.fromISO(a.date),y:a.tacho})}))},n=0;n<a.length;n+=1)o(n);return t.abrupt("break",36);case 35:return t.abrupt("break",36);case 36:e.showToggleAllCharts=!0,e.loaded=!0;case 38:case"end":return t.stop()}}),t)})))()},refreshChart:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"GroupChart",query:{group:e.selectedGroup.id,propertie:e.selectedPropertie,from:e.selectedDateFrom,to:e.selectedDateTo}});case 2:case"end":return t.stop()}}),t)})))()},getGroups:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/groups").then((function(e){return e.json()})).then((function(t){e.groups=t}));case 2:case"end":return t.stop()}}),t)})))()},getDateDuration:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/timestamps?group=".concat(e.selectedGroup.id,"&propertie=").concat(e.selectedPropertie)).then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(t){e.disabledDates={from:t.from,to:t.to},e.selectedDateFrom=t.from,e.selectedDateTo=t.to,e.showDatepicker=!0})).catch((function(t){e.errorMessage=t,e.showDatepicker=!1}));case 2:case"end":return t.stop()}}),t)})))()}}},me=pe,ve=(a("3d4d"),Object(g["a"])(me,le,ue,!1,null,null,null)),fe=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-5 overflow-auto"},[a("div",{staticClass:"flex items-center space-x-5"},[a("h2",{staticClass:"text-lg font-bold"},[e._v("Devices")]),e.$dataStore.user.canEdit?a("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:e.showAddForm}},[a("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),a("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add UVClean Device ")]):e._e()]),a("router-link",{staticClass:"cursor-default flex flex-wrap items-start justify-center",attrs:{to:"devices",id:"uvcdevicelist",tag:"div"},on:{click:function(t){e.$route.query.device=""}}},e._l(e.$dataStore.devices,(function(t){return a("UVCDevice",{key:t.serialnumber,ref:"device"+t.serialnumber,refInFor:!0,staticClass:"m-5 flex-shrink-0 w-96 border-primary border shadow-lg duration-200",class:[e.device===t.serialnumber?"transform scale-105":""],attrs:{device:t},on:{edit:function(t){return e.editDevice(t)},assignGroup:function(t){return e.showGroupForm(t)},changeState:function(t){return e.changeDeviceState(t)},acknowledgeAlarm:function(t){return e.acknowledgeAlarm(t)},reset:function(t){return e.resetDevice(t)}}})})),1),a("UVCForm",{attrs:{title:e.heading,show:e.showEditForm,errorMessage:e.errorMessage},on:{close:e.closeAddForm}},[a("label",{attrs:{for:"add_devicename"}},[e._v("Devicename")]),a("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_devicename",type:"text",placeholder:"UVCClean2000 Dach"},domProps:{value:e.formDevice.name},on:{input:function(t){e.formDevice.name=t.target.value}}}),a("label",{attrs:{for:"add_deviceserialnumber"}},[e._v("Serialnumber")]),a("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_deviceserialnumber",disabled:e.isFormEdit,type:"text",placeholder:"123456789"},domProps:{value:e.formDevice.serialnumber},on:{input:function(t){e.formDevice.serialnumber=t.target.value}}}),a("div",{},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 font-semibold hover:transform hover:scale-105 transition-all\n        text-red-500",on:{click:function(t){return e.deleteDevice(e.formDevice.serialnumber)}}},[e._v(" Delete ")]),a("div",{staticClass:"float-right space-x-2"},[a("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){e.isFormEdit?e.updateDevice(e.formDevice):e.addDevice(e.formDevice)}}},[e._v(" "+e._s(e.okProp)+" ")]),a("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeAddForm}},[e._v(" Close ")])])])]),a("UVCForm",{attrs:{title:"Group Assignment",show:e.showGroupAssignmentForm,errorMessage:e.errorMessage},on:{close:e.closeGroupForm}},[a("h2",[a("span",{staticClass:"font-bold"},[e._v("Device:")]),e._v(" "+e._s(e.formDevice.name))]),a("div",{staticClass:"w-full flex items-center space-x-2"},[a("label",{staticClass:"font-bold",attrs:{for:"device"}},[e._v("Choose the group:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.formSelectedGroup,expression:"formSelectedGroup"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"device",id:"device"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.formSelectedGroup=t.target.multiple?a:a[0]}}},e._l(e.$root.$dataStore.groups,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("div",{staticClass:"items-center"},[a("div",{staticClass:"float-left"},[e.formDevice.group.name?a("button",{staticClass:"font-semibold p-2 text-red-500\n          hover:transform hover:scale-105 transition-all",on:{click:e.removeGroupAssignment}},[e._v(" Remove assignment ")]):e._e()]),a("div",{staticClass:"float-right space-x-2"},[a("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n            bg-primary text-white",on:{click:e.assignDeviceToGroup}},[e._v(" Assign ")]),a("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeGroupForm}},[e._v(" Close ")])])])])],1)},we=[],be=(a("a15b"),a("466d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"cursor-default",attrs:{to:{name:"devices",query:{device:this.device.serialnumber}},tag:"div"}},[a("div",{},[a("div",{staticClass:"p-2 items-center text-white",class:[e.device.alarmState?"bg-red-500":"bg-primary"]},[a("div",{staticClass:"flex flex-row justify-between items-center"},[a("div",[a("h3",{staticClass:"text-md font-bold"},[e._v(e._s(e.device.name))]),a("h4",{staticClass:"text-sm text-gray-200"},[e._v("SN: "+e._s(e.device.serialnumber))]),void 0!==e.device.group.name?a("router-link",{staticClass:"text-sm text-gray-200 hover:underline",attrs:{to:{name:"groups",query:{group:this.device.group._id}}}},[e._v(" Group: "+e._s(e.device.group.name)+" ")]):e._e()],1),a("dropdownMenu",{staticClass:"text-primary z-10",attrs:{showIcon:!0,menuItems:[{text:"Edit",disabled:!1===this.$root.$dataStore.user.canEdit},{text:"View chart",disabled:!1},{text:"Add to Group",disabled:!1===this.$root.$dataStore.user.canEdit},{text:"Reset",disabled:!1===this.$root.$dataStore.user.canEdit},{text:"Acknowledge",disabled:!1===this.$root.$dataStore.user.canEdit}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}})],1)]),a("div",{staticClass:"relative"},[e.showAlarmPopup?a("div",{staticClass:"absolute w-full h-full bg-black opacity-40"}):e._e(),e.showAlarmPopup?a("div",{staticClass:"absolute w-full h-full flex items-center justify-center"},[a("div",{staticClass:"bg-gray-100 w-2/3 flex flex-col items-center justify-between\n          rounded shadow border-2 border-red-500"},[a("h1",{staticClass:"m-5 text-red-500 font-bold text-xl"},[e._v("An alarm occurred!")]),e._l(e.alarmPropertie,(function(t){return a("p",{key:t,staticClass:"w-full text-red-500 font-bold text-lg text-center whitespace-normal"},[e._v(" "+e._s(t)+" ")])})),a("button",{staticClass:"p-3 m-5 text-gray-900 font-bold text-center bg-gray-200 transform\n            hover:scale-105 duration-75",on:{click:function(t){e.$emit("acknowledgeAlarm",{serialnumber:e.device.serialnumber,prop:"acknowledge"}),e.showAlarmPopup=!1}}},[e._v(" Acknowledge ")])],2)]):e._e(),a("div",{staticClass:"p-2 grid grid-cols-2 space-y-2 items-center"},[a("label",{attrs:{for:"b_device_state"}},[e._v("Devie State")]),a("button",{staticClass:"p-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.device.engineState,"bg-red-500":!e.device.engineState},attrs:{id:"b_device_state",disabled:!1===e.$dataStore.user.canEdit},on:{click:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"engineState",newValue:!e.device.engineState})}}},[e._v(" "+e._s(e.state)+" ")]),a("label",{attrs:{for:"b_eventmode"}},[e._v("Eventmode")]),a("button",{staticClass:"p-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.device.eventMode,"bg-red-500":!e.device.eventMode},attrs:{id:"b_eventmode",disabled:!1===e.$dataStore.user.canEdit},on:{click:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"eventMode",newValue:!e.device.eventMode})}}},[e._v(" "+e._s(e.eventMode)+" ")]),a("label",{attrs:{for:"b_identify"}},[e._v("Identify")]),a("button",{staticClass:"p-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.device.identifyMode,"bg-red-500":!e.device.identifyMode},attrs:{id:"b_identify",disabled:!1===e.$dataStore.user.canEdit},on:{click:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"identifyMode",newValue:!e.device.identifyMode})}}},[e._v(" "+e._s(e.identifyMode)+" ")]),a("label",{attrs:{for:"s_engine_level"}},[e._v("Engine Level")]),a("select",{attrs:{name:"engine_level",id:"s_engine_level",disabled:!1===e.$dataStore.user.canEdit},domProps:{value:e.device.engineLevel},on:{change:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"engineLevel",newValue:t.target.value})}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")])]),a("h4",{staticClass:"text-lg pt-5 font-bold col-span-2"},[e._v("Statistics:")]),a("router-link",{staticClass:"col-span-2 flex justify-between cursor-pointer",attrs:{tag:"div",to:{name:"DeviceChart",query:{device:this.device.serialnumber,propertie:"airVolume"}}}},[a("span",{staticClass:"font-semibold"},[e._v("Current Volume")]),e.device.currentAirVolume?a("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentAirVolume.volume)+" L/M^3 ")]):e._e()]),a("router-link",{staticClass:"col-span-2 flex justify-between cursor-pointer",attrs:{tag:"div",to:{name:"DeviceChart",query:{device:this.device.serialnumber,propertie:"tacho"}}}},[a("span",{staticClass:"font-semibold"},[e._v("Rotation speed")]),e.device.tacho?a("span",{staticClass:"text-right"},[e._v(e._s(e.device.tacho.tacho)+" R/min")]):e._e()]),a("div",{staticClass:"col-span-2"},[a("div",{staticClass:"flex justify-between"},[a("span",{staticClass:"font-semibold"},[e._v("Lamp values (V)")]),a("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n                hover:scale-105 transition-all",on:{click:function(t){e.showLampValues=!e.showLampValues}}},[e.showLampValues?e._e():a("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                  13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                  2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                  1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                  0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),a("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                  0 3.5 3.5 0 0 1-7 0z"}})]),e.showLampValues?a("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                  0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                  2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                  1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),a("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                  2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                  2.5 0 0 0 2.829 2.829z"}}),a("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                  8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                  12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                  13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                  .708-.708 12 12-.708.708z"}})]):e._e()])]),a("transition",{attrs:{name:"slide"}},[e.showLampValues?a("div",{staticClass:"col-span-2  grid grid-cols-4"},e._l(e.device.currentLampValue,(function(t,r){return a("div",{key:r,staticClass:"w-16"},[e._v(" "+e._s(t.lamp)+": "+e._s(t.value)+", ")])})),0):e._e()])],1),e.showCurrentBodyStateSection?a("div",{staticClass:"col-span-2 flex justify-between"},[a("span",{staticClass:"font-semibold"},[e._v("Body Temperature Alarm")]),e.device.currentBodyState?a("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentBodyState.state)+" ")]):e._e()]):e._e(),e.showCurrentFanStateSection?a("div",{staticClass:"col-span-2 flex justify-between"},[a("span",{staticClass:"font-semibold"},[e._v("Fan Temperature Alarm")]),e.device.currentFanState?a("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentFanState.state)+" ")]):e._e()]):e._e(),0!==e.currentLampStates.length?a("div",{staticClass:"col-span-2 flex flex-col space-y-5 pb-5"},[a("div",{},[a("div",{staticClass:"flex justify-between"},[a("span",{staticClass:"font-semibold"},[e._v("Alarm states")]),a("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n                  hover:scale-105 transition-all",on:{click:function(t){e.showAlarmStates=!e.showAlarmStates}}},[e.showAlarmStates?e._e():a("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                    13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                    2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                    1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                    0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),a("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                    0 3.5 3.5 0 0 1-7 0z"}})]),e.showAlarmStates?a("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                    0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                    2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                    1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),a("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                    2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                    2.5 0 0 0 2.829 2.829z"}}),a("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                    8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                    12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                    13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                    .708-.708 12 12-.708.708z"}})]):e._e()])]),a("transition",{attrs:{name:"slide"}},[e.showAlarmStates?a("div",{staticClass:"col-span-2 grid grid-cols-4"},e._l(e.currentLampStates,(function(t,r){return a("div",{key:r,staticClass:"w-20"},[e._v(" "+e._s(t.lamp)+": "+e._s(t.state)+" ")])})),0):e._e()])],1)]):e._e()],1)])])])}),Ce=[],xe={name:"UVCDevice",props:["device"],components:{dropdownMenu:b},methods:{menuItemClicked:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=e,a.next="Edit"===a.t0?3:"View chart"===a.t0?5:"Add to Group"===a.t0?8:"Reset"===a.t0?10:"Acknowledge"===a.t0?12:15;break;case 3:return t.$emit("edit",t.device),a.abrupt("break",17);case 5:return a.next=7,t.$router.push({name:"DeviceChart",query:{device:t.device.serialnumber}}).catch((function(e){console.log(e)}));case 7:return a.abrupt("break",17);case 8:return t.$emit("assignGroup",t.device),a.abrupt("break",17);case 10:return t.$emit("reset",{serialnumber:t.device.serialnumber}),a.abrupt("break",17);case 12:return t.$emit("acknowledgeAlarm",{serialnumber:t.device.serialnumber,prop:"acknowledge"}),t.showAlarmPopup=!1,a.abrupt("break",17);case 15:return console.log(e),a.abrupt("break",17);case 17:case"end":return a.stop()}}),a)})))()}},watch:{device:{deep:!0,handler:function(){var e=this;this.showCurrentBodyStateSection="ok"!==this.device.currentBodyState.state.toLowerCase(),this.showCurrentFanStateSection="ok"!==this.device.currentFanState.state.toLowerCase(),this.currentLampStates=this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()})),this.alarmPropertie=[],this.currentLampStates.forEach((function(t){e.alarmPropertie.push("Lamp: ".concat(t.lamp,", State: ").concat(t.state))})),this.showCurrentFanStateSection&&this.alarmPropertie.push("Fan States: Alarm"),this.showCurrentBodyStateSection&&this.alarmPropertie.push("Body States: Alarm"),!1===this.showAlarmPopup&&!0===this.device.alarmState&&(this.showAlarmPopup=!0),!0===this.showAlarmPopup&&!1===this.device.alarmState&&(this.showAlarmPopup=!1)}}},created:function(){var e=this;this.showCurrentBodyStateSection="ok"!==this.device.currentBodyState.state.toLowerCase(),this.showCurrentFanStateSection="ok"!==this.device.currentFanState.state.toLowerCase(),this.currentLampStates=this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()})),this.alarmPropertie=[],this.currentLampStates.forEach((function(t){e.alarmPropertie.push("Lamp: ".concat(t.lamp,", State: ").concat(t.state))})),this.showCurrentFanStateSection&&this.alarmPropertie.push("Fan States: Alarm"),this.showCurrentBodyStateSection&&this.alarmPropertie.push("Body States: Alarm"),!1===this.showAlarmPopup&&!0===this.device.alarmState&&(this.showAlarmPopup=!0),!0===this.showAlarmPopup&&!1===this.device.alarmState&&(this.showAlarmPopup=!1)},data:function(){return{showAlarmStates:!0,showLampValues:!0,hasDeviceAlarm:!1,showAlarmPopup:!1,alarmPropertie:[],showCurrentBodyStateSection:"ok"!==this.device.currentBodyState.state.toLowerCase(),showCurrentFanStateSection:"ok"!==this.device.currentFanState.state.toLowerCase(),currentLampStates:this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()}))}},computed:{state:{get:function(){return this.device.engineState?"On":"Off"},set:function(){return this.device.engineState?"On":"Off"}},eventMode:{get:function(){return this.device.eventMode?"On":"Off"},set:function(){return this.device.eventMode?"On":"Off"}},identifyMode:{get:function(){return this.device.identifyMode?"On":"Off"},set:function(){return this.device.identifyMode?"On":"Off"}}}},_e=xe,ke=(a("b67a"),Object(g["a"])(_e,be,Ce,!1,null,null,null)),ye=ke.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"fixed top-0 left-0 h-full w-full\n  bg-black bg-opacity-50 flex justify-center items-center",on:{click:e.close}},[a("div",{staticClass:"flex flex-col w-9/12 text-color space-y-2 whitespace-nowrap bg-white p-5 rounded",on:{click:function(e){e.stopPropagation()}}},[a("h1",{staticClass:"text-xl font-bold"},[e._v(e._s(e.title))]),a("h1",{staticClass:"font-bold pb-5 text-red-500 whitespace-pre-line",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(" Error: "+e._s(e.errorMessage)+" ")]),e._t("default")],2)])},De=[],Me={name:"FormUVC",props:["title","show","errorMessage"],methods:{close:function(){this.$emit("close")}},mounted:function(){var e=this;this.$emit("mounted"),document.addEventListener("keydown",(function(t){e.show&&27===t.keyCode&&e.close()}))}},Ae=Me,$e=Object(g["a"])(Ae,Se,De,!1,null,null,null),Fe=$e.exports,Ve={name:"UVCDeviceList",components:{UVCDevice:ye,UVCForm:Fe},props:["device"],watch:{device:function(){void 0!==this.device&&this.device.match(/[0-9]/gm)&&this.scrollToElement(this.device)}},mounted:function(){var e=this;this.$nextTick((function(){void 0!==e.device&&e.device.match(/[0-9]/gm)&&e.scrollToElement(e.device)}))},computed:{okProp:function(){return this.isFormEdit?"Update":"Add"},heading:function(){return this.isFormEdit?"Update Device":"Add Device"}},methods:{scrollToElement:function(e){var t=this.$refs["device".concat(e)];t&&t[0]&&t[0].$el.scrollIntoView({behavior:"smooth"})},editDevice:function(e){this.formDevice={serialnumber:e.serialnumber,name:e.name,group:e.group},this.isFormEdit=!0,this.showEditForm=!0},showGroupForm:function(e){this.formDevice={name:e.name,serialnumber:e.serialnumber,group:e.group},this.formSelectedGroup=void 0===e.group._id?"":e.group._id,this.showGroupAssignmentForm=!0},closeGroupForm:function(){this.formDevice={name:"",serialnumber:""},this.showGroupAssignmentForm=!1},assignDeviceToGroup:function(){""!==this.formSelectedGroup?(this.$root.$data.socket.emit("group_addDevice",{device:this.formDevice.serialnumber,group:this.formSelectedGroup}),this.showGroupAssignmentForm=!1):this.errorMessage="You have to select a group to assign the device to."},removeGroupAssignment:function(){this.$root.$data.socket.emit("group_deviceDelete",{device:this.formDevice.serialnumber,group:this.formSelectedGroup}),this.showGroupAssignmentForm=!1},showAddForm:function(){this.isFormEdit=!1,this.showEditForm=!0},closeAddForm:function(){this.showEditForm=!1,this.formDevice={name:"",serialnumber:""},this.errorMessage=""},addDevice:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?""!==e.serialnumber&&null===e.serialnumber.match(/[^0-9]/gm)?(this.$root.$data.socket.emit("device_add",{name:e.name,serialnumber:e.serialnumber}),this.showEditForm=!1,this.errorMessage=""):this.errorMessage="Serialnumber has to be vaild. Only Numbers are allowed.\n Invalid characters: ".concat(e.serialnumber.match(/[^0-9]/gm).join(",")):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},updateDevice:function(e){this.$root.$data.socket.emit("device_changeState",{serialnumber:e.serialnumber,prop:"name",newValue:"".concat(e.name)}),this.showEditForm=!1},deleteDevice:function(e){this.$root.$data.socket.emit("device_delete",{serialnumber:"".concat(e)}),this.showEditForm=!1},changeDeviceState:function(e){void 0!==e.serialnumber&&void 0!==e.prop&&void 0!==e.newValue?this.$root.$data.socket.emit("device_changeState",{serialnumber:e.serialnumber,prop:"".concat(e.prop),newValue:"".concat(e.newValue)}):console.error("New State can not be parsed",e)},acknowledgeAlarm:function(e){this.$root.$data.socket.emit("device_acknowledgeAlarm",{serialnumber:e.serialnumber})},resetDevice:function(e){this.$root.$data.socket.emit("device_reset",{serialnumber:e.serialnumber})}},data:function(){return{showEditForm:!1,showGroupAssignmentForm:!1,errorMessage:"",isFormEdit:!1,formSelectedGroup:"",formGroups:[],formDevice:{name:"",serialnumber:"",group:""},groupAssignmentOptions:{device:{name:""}}}}},Ee=Ve,Ge=Object(g["a"])(Ee,ge,we,!1,null,null,null),Oe=Ge.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-5 overflow-auto",attrs:{id:"groups"}},[a("div",{staticClass:"flex items-center space-x-5"},[a("h2",{staticClass:"text-lg font-bold"},[e._v("Groups")]),e.$dataStore.user.canEdit?a("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:e.showAddForm}},[a("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),a("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add UVClean Group ")]):e._e()]),a("router-link",{staticClass:"flex flex-row flex-wrap content-center justify-center cursor-default",attrs:{to:"groups"}},e._l(e.$dataStore.groups,(function(t){return a("UVCGroup",{key:t.id,ref:"group"+t.id,refInFor:!0,staticClass:"m-5 w-80 border-primary border shadow-lg duration-200",class:[e.group===t.id?"transform scale-105":""],attrs:{group:t},on:{edit:function(t){return e.editGroup(t)},setDevices:function(t){return e.setDevicesInGroup(t)},changeState:function(t){return e.changeGroupState(t)}}})})),1),a("UVCForm",{attrs:{title:e.heading,show:e.showEditForm,errorMessage:e.errorMessage},on:{close:e.closeAddForm}},[a("label",{attrs:{for:"add_groupname"}},[e._v("Group Name")]),a("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_groupname",type:"text",placeholder:"Dach"},domProps:{value:e.formGroup.name},on:{input:function(t){e.formGroup.name=t.target.value}}}),e.isFormEdit?a("label",{attrs:{for:"add_groupid"}},[e._v("Group ID")]):e._e(),e.isFormEdit?a("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_groupid",disabled:e.isFormEdit,type:"text",placeholder:"123456789"},domProps:{value:e.formGroup.id},on:{input:function(t){e.formGroup.id=t.target.value}}}):e._e(),a("div",{},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 text-red-500 font-semibold\n          hover:transform hover:scale-105 transition-all",on:{click:function(t){return e.deleteGroup(e.formGroup)}}},[e._v(" Delete ")]),a("div",{staticClass:"float-right space-x-2"},[a("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){e.isFormEdit?e.updateGroup(e.formGroup):e.addGroup(e.formGroup)}}},[e._v(" "+e._s(e.okProp)+" ")]),a("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeAddForm}},[e._v(" Close ")])])])]),a("UVCForm",{attrs:{title:"Set Devices in Group",show:e.showSetDeviceForm,errorMessage:e.errorMessage},on:{close:e.closeSetDeviceForm}},[a("h2",[e._v("Group: "+e._s(e.formGroup.name))]),a("div",{staticClass:"p-2 bg-white border border-gray-400 rounded"},e._l(e.$root.$dataStore.devices,(function(t){return a("div",{key:t.serialnumber,staticClass:"space-x-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedDevices,expression:"checkedDevices"}],attrs:{type:"checkbox",id:"setDevice"+t.serialnumber},domProps:{value:t.serialnumber,checked:t.group.name===e.formGroup.name,checked:Array.isArray(e.checkedDevices)?e._i(e.checkedDevices,t.serialnumber)>-1:e.checkedDevices},on:{change:function(a){var r=e.checkedDevices,s=a.target,o=!!s.checked;if(Array.isArray(r)){var n=t.serialnumber,i=e._i(r,n);s.checked?i<0&&(e.checkedDevices=r.concat([n])):i>-1&&(e.checkedDevices=r.slice(0,i).concat(r.slice(i+1)))}else e.checkedDevices=o}}}),a("label",{staticClass:"select-none",attrs:{for:"setDevice"+t.serialnumber}},[e._v(" "+e._s(t.name)+" ")]),t.group.name?a("label",{staticClass:"italic select-none",attrs:{for:"setDevice"+t.serialnumber}},[e._v(" ("+e._s(t.group.name)+") ")]):e._e()])})),0),a("div",{},[a("div",{staticClass:"float-right space-x-2"},[a("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:e.setDevices}},[e._v(" Set ")]),a("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all",on:{click:e.closeSetDeviceForm}},[e._v(" Close ")])])])])],1)},ze=[],je=(a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"cursor-default",attrs:{to:"groups?group="+e.group.id}},[a("div",[a("div",{staticClass:"p-2 items-center text-white",class:[e.group.alarmState?"bg-red-500":"bg-primary"]},[a("div",{staticClass:"flex flex-row justify-between items-center"},[a("div",[a("h3",{staticClass:"text-md font-bold"},[e._v(e._s(e.group.name))]),a("h4",{staticClass:"text-sm text-gray-200"},[e._v("ID: "+e._s(e.group.id))])]),a("dropdownMenu",{staticClass:"text-primary",attrs:{showIcon:!0,menuItems:[{text:"Edit",disabled:!1===this.$root.$dataStore.user.canEdit},{text:"View chart",disabled:!1},{text:"Set Devices",disabled:!1===this.$root.$dataStore.user.canEdit}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}})],1)]),a("div",{staticClass:"p-2"},[a("h4",{staticClass:"text-lg pt-2 font-bold col-span-2"},[e._v("Groupmembers:")]),a("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.devices,(function(t){return a("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[a("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[a("h5",{staticClass:"font-semibold text-sm"},[e._v(e._s(t.name))]),a("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0)]),a("div",{staticClass:"p-2 grid grid-cols-2 space-y-2 items-center"},[a("label",{attrs:{for:"b_group_state"}},[e._v("Group Engine State")]),a("button",{staticClass:"p-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.group.engineState,"bg-red-500":!e.group.engineState,"bg-yellow-400":0!==e.group.engineStateDevicesWithOtherState.length},attrs:{id:"b_group_state",disabled:!1===e.$dataStore.user.canEdit},on:{click:function(t){return e.$emit("changeState",{id:e.group.id,prop:"engineState",newValue:!e.group.engineState})}}},[e._v(" "+e._s(e.state)+" ")]),0!==e.group.engineStateDevicesWithOtherState.length?a("div",{staticClass:"col-span-2 px-2"},[a("span",{staticClass:"text-sm"},[e._v("Devices that have not these state:")]),a("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.engineStateDevicesWithOtherState,(function(t){return a("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[a("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[a("h5",{staticClass:"font-semibold text-xs"},[e._v(e._s(t.name))]),a("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0)]):e._e(),a("label",{attrs:{for:"b_eventmode"}},[e._v("Eventmode")]),a("button",{staticClass:"p-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.group.eventMode,"bg-red-500":!e.group.eventMode,"bg-yellow-400":0!==e.group.eventModeDevicesWithOtherState.length},attrs:{id:"b_eventmode",disabled:!1===e.$dataStore.user.canEdit},on:{click:function(t){return e.$emit("changeState",{id:e.group.id,prop:"eventMode",newValue:!e.group.eventMode})}}},[e._v(" "+e._s(e.eventMode)+" ")]),0!==e.group.eventModeDevicesWithOtherState.length?a("div",{staticClass:"col-span-2 px-2"},[a("span",{staticClass:"text-sm"},[e._v("Devices that have not these state:")]),a("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.eventModeDevicesWithOtherState,(function(t){return a("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[a("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[a("h5",{staticClass:"font-semibold text-xs"},[e._v(e._s(t.name))]),a("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0)]):e._e(),a("label",{attrs:{for:"s_engine_level"}},[e._v("Engine Level")]),a("select",{staticClass:"p-2",attrs:{name:"engine_level",id:"s_engine_level",disabled:!1===e.$dataStore.user.canEdit},on:{change:function(t){return e.$emit("changeState",{id:e.group.id,prop:"engineLevel",newValue:t.target.value})}}},[a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")])])])])])}),Le=[],Re={name:"UVCGroup",props:["group"],components:{dropdownMenu:b},methods:{menuItemClicked:function(e){switch(e){case"Edit":this.$emit("edit",this.group);break;case"View chart":this.$router.push({name:"GroupChart",query:{group:this.group.serialnumber}});break;case"Set Devices":this.$emit("setDevices",this.group);break;default:break}}},data:function(){return{showAlarmStates:!0,showLampValues:!0}},computed:{state:{get:function(){return this.group.engineState?"On":"Off"},set:function(){return this.group.engineState?"On":"Off"}},eventMode:{get:function(){return this.group.eventMode?"On":"Off"},set:function(){return this.group.eventMode?"On":"Off"}}}},Ie=Re,Te=(a("3ec2"),Object(g["a"])(Ie,je,Le,!1,null,null,null)),He=Te.exports,Ue={name:"UVCGroupList",components:{UVCGroup:He,UVCForm:Fe},props:["group"],computed:{okProp:function(){return this.isFormEdit?"Update":"Add"},heading:function(){return this.isFormEdit?"Update Group":"Add Group"}},watch:{group:function(){void 0!==this.group&&this.group.match(/[0-9a-z]/gm)&&this.scrollToElement(this.group)}},mounted:function(){var e=this;this.$nextTick((function(){void 0!==e.group&&e.group.match(/[0-9a-z]/gm)&&e.scrollToElement(e.group)}))},methods:{closeSetDeviceForm:function(){this.showSetDeviceForm=!1},scrollToElement:function(e){var t=this.$refs["group".concat(e)];t&&t[0]&&t[0].$el.scrollIntoView({behavior:"smooth"})},showAddForm:function(){this.formGroup={name:"",id:""},this.isFormEdit=!1,this.showEditForm=!0},closeAddForm:function(){this.showEditForm=!1,this.formGroup={name:"",id:""},this.errorMessage=""},addGroup:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?(this.$root.$data.socket.emit("group_add",{name:e.name}),this.showEditForm=!1,this.errorMessage=""):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},setDevices:function(){""!==this.formGroup.name&&null===this.formGroup.name.match(/[^0-9A-Za-z+ ]/gm)?(this.$root.$data.socket.emit("group_setDevices",{group:this.formGroup.id,devices:this.checkedDevices}),this.showSetDeviceForm=!1):this.errorMessage="Name has to be vaild."},setDevicesInGroup:function(e){var t=this;this.formGroup={name:e.name,id:e.id},this.checkedDevices=[],e.devices.map((function(e){return t.checkedDevices.push(e.serialnumber),e})),this.showSetDeviceForm=!0},editGroup:function(e){this.formGroup={name:e.name,id:e.id},this.isFormEdit=!0,this.showEditForm=!0},updateGroup:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?(this.$root.$data.socket.emit("group_changeState",{id:e.id,prop:"name",newValue:e.name}),this.showEditForm=!1,this.errorMessage=""):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},deleteGroup:function(e){this.$root.$data.socket.emit("group_delete",{id:e.id}),this.showEditForm=!1},changeGroupState:function(e){void 0!==e.id&&void 0!==e.prop&&void 0!==e.newValue?(console.log(e),this.$root.$data.socket.emit("group_changeState",{id:e.id,prop:e.prop,newValue:"".concat(e.newValue)})):console.log("New State can not be parsed",e)}},data:function(){return{showSetDeviceForm:!1,checkedDevices:[],showEditForm:!1,isFormEdit:!1,errorMessage:"",formGroup:{name:"",id:""}}}},Be=Ue,Ne=(a("33c6"),Object(g["a"])(Be,Pe,ze,!1,null,null,null)),Ze=Ne.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex items-center space-x-5"},[a("h2",{staticClass:"text-lg font-bold"},[e._v("Users")]),e.$dataStore.user.canEdit?a("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all"},[a("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),a("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add User ")]):e._e()]),e._l(e.users,(function(e){return a("user",{key:e.username,attrs:{user:e}})}))],2)},qe=[],Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-24 m-2 flex border border-gray-300 rounded overflow-hidden"},[a("div",{staticClass:"h-24 w-24 flex items-center justify-center bg-primary text-white"},[a("svg",{staticClass:"h-16 w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468\n        11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}})])]),a("div",{staticClass:"w-full pl-2"},[a("div",{staticClass:"flex items-center justify-between"},[a("h1",{staticClass:"font-bold text-lg"},[e._v(e._s(e.user.username))]),a("svg",{staticClass:"w-5 h-5 mx-2 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1\n        .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0\n          1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1\n          1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5\n          3V2h11v1h-11z"}})])]),e._m(0)])])},Ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pl-2"},[a("h2",{staticClass:"font-bold text-base"},[e._v("Settings")]),a("div",{staticClass:"space-x-2 text-sm flex items-center"},[a("label",{attrs:{for:"cbxCanEdit"}},[e._v("Can edit:")]),a("input",{attrs:{type:"checkbox",id:"cbxCanEdit"}})])])}],Ke={props:{user:Object}},Qe=Ke,Xe=Object(g["a"])(Qe,Je,Ye,!1,null,null,null),et=Xe.exports,tt={name:"UserList",components:{User:et},data:function(){return{users:[]}},created:function(){var e=this;fetch("/api/users").then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(t){e.users=t})).catch((function(e){console.error(e)}))}},at=tt,rt=Object(g["a"])(at,We,qe,!1,null,null,null),st=rt.exports;s["a"].use(y["a"]);var ot=[{path:"/dashboard",name:"dashboard",component:z,props:function(e){return e.query||{}},children:[{name:"devices",path:"devices",component:Oe,props:function(e){return e.query||{}}},{name:"groups",path:"groups",component:Ze,props:function(e){return e.query||{}}}]},{path:"/chart",name:"chart",component:H,children:[{path:"device",name:"DeviceChart",component:ce,props:function(e){return e.query||{}}},{path:"group",name:"GroupChart",component:fe,props:function(e){return e.query||{}}}]},{path:"/settings",name:"settings",component:q,children:[{path:"user",name:"settingsUserList",component:st,props:function(e){return e.query||{}}}]}],nt=new y["a"]({routes:ot}),it=nt;a("ce8c"),a("f080");s["a"].config.productionTip=!1;var ct=s["a"].observable({devices:[],groups:[],user:""}),lt=new URLSearchParams(window.location.search);if(!lt.has("user"))throw new Error("No user provided");var ut=lt.get("user");fetch("/api/user?username=".concat(ut)).then((function(e){if(200!==e.status)throw new Error(e.msg);return e.json()})).then((function(e){ct.user=e.user})).catch((function(e){console.error(e)}));var dt=c()();s["a"].prototype.$dataStore=ct,s["a"].use(n.a),new s["a"]({render:function(e){return e(k)},router:it,data:{socket:dt},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.onbeforeunload=function(){dt.emit("leave",e.username)},console.log("Created: datastore:",e.$dataStore),dt.on("error",(function(e){console.error("error in backend",e),s["a"].$toast.open({type:"error",message:"Server Error: ".concat(e.message),duration:5e3})})),dt.on("info",(function(e){console.log("info in backend",e),s["a"].$toast.open({type:"info",message:"Server Info: ".concat(e.message),duration:5e3})})),dt.on("warn",(function(e){console.log("warn in backend",e),s["a"].$toast.open({type:"warning",message:"Server Warn: ".concat(e.message),duration:5e3})})),dt.on("device_alarm",(function(t){console.log("Event: device_alarm",t),e.$dataStore.devices.filter((function(e){if(e.serialnumber===t.serialnumber){var a=e;a.alarmState="false"!=="".concat(t.alarmValue)}return e}))})),dt.on("databaseConnected",(function(){console.log("info in backend: database is connected"),s["a"].$toast.open({type:"info",message:"Server Info: Database is connected",duration:5e3}),e.fetchDataFromServer()})),dt.on("group_deviceAlarm",(function(t){console.log("Event: group_deviceAlarm",t),e.$dataStore.groups.filter((function(e){if(e.id===t.group){var a=e;a.alarmState="false"!=="".concat(t.alarmValue),e.devices.filter((function(e){return e.serialnumber===t.serialnumber&&(console.log(e),e.alarmState="false"!=="".concat(t.alarmValue),console.log(e)),e}))}return e}))})),dt.on("device_added",(function(t){console.log("Event: device_added",t),e.$dataStore.devices.push(t)})),dt.on("device_deleted",function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Event: device_deleted",a),t.next=3,e.fetchDataFromServer();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),dt.on("group_added",(function(t){console.log("Event: group_added",t),e.$dataStore.groups.push(t)})),dt.on("group_deleted",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Event: group_deleted"),t.next=3,e.fetchDataFromServer();case 3:case"end":return t.stop()}}),t)})))),dt.on("group_deviceAdded",Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Event: group_deviceAdded"),t.next=3,e.fetchDataFromServer();case 3:case"end":return t.stop()}}),t)})))),dt.on("group_deviceDeleted",function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Event: group_deviceDeleted",a),t.next=3,e.fetchDataFromServer();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),dt.on("device_stateChanged",(function(t){console.log("Event: device_stateChanged",t),e.$dataStore.devices.filter((function(e){if(e.serialnumber===t.serialnumber){var a=e,r="";switch(t.prop){case"name":a.name="".concat(t.newValue);break;case"currentFanState":a[t.prop]={state:"".concat(t.newValue)};break;case"currentBodyState":a[t.prop]={state:"".concat(t.newValue)};break;case"engineState":case"eventMode":case"identifyMode":a[t.prop]="true"==="".concat(t.newValue);break;case"tacho":void 0===a[t.prop]?a[t.prop]={tacho:parseInt(t.newValue,10)}:a[t.prop].tacho=parseInt(t.newValue,10);break;case"currentAirVolume":void 0===a[t.prop]?a[t.prop]={volume:parseInt(t.newValue,10)}:a[t.prop].volume=parseInt(t.newValue,10);break;case"engineLevel":a[t.prop]=parseInt(t.newValue,10);break;case"currentLampState":r=a[t.prop],void 0===r[t.lamp-1]?r[t.lamp-1]={lamp:t.lamp,state:t.newValue}:r[t.lamp-1].state=t.newValue;break;case"currentLampValue":r=a[t.prop],void 0===r[t.lamp-1]?r[t.lamp-1]={lamp:t.lamp,value:t.newValue}:r[t.lamp-1].value=t.newValue;break;default:console.log("Can not parse stateChanged message with prop ".concat(t.prop));break}return a}return!1}))})),dt.on("group_stateChanged",(function(t){console.log("Event: group_stateChanged",t),e.$dataStore.groups.filter((function(e){if(e.id===t.id){var a=e;switch(t.prop){case"name":a[t.prop]="".concat(t.newValue);break;case"engineState":a[t.prop]="true"==="".concat(t.newValue);break;case"engineStateDevicesWithOtherState":a.engineStateDevicesWithOtherState=t.newValue;break;case"eventMode":a[t.prop]="true"==="".concat(t.newValue);break;case"eventModeDevicesWithOtherState":a.eventModeDevicesWithOtherState=t.newValue;break;case"engineLevel":a[t.prop]=parseInt(t.newValue,10);break;case"engineLevelDevicesWithOtherState":a.engineLevelDevicesWithOtherState=t.newValue;break;case"identifyMode":a[t.prop]="true"==="".concat(t.newValue);break;case"identifyModeDevicesWithOtherState":a.identifyModeDevicesWithOtherState=t.newValue;break;default:console.log("Can not parse stateChanged message with prop ".concat(t.prop));break}return a}return!1}))})),t.prev=16,t.next=19,e.fetchDataFromServer();case 19:t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](16),console.error("error in backend",t.t0),s["a"].$toast.open({type:"error",message:"Server Error: ".concat(t.t0.message),duration:5e3});case 25:case"end":return t.stop()}}),t,null,[[16,21]])})))()},methods:{fetchDataFromServer:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/devices").then((function(e){if(500===e.status)throw new Error("Database not connected or database error");return e.json()})).then((function(t){console.log(t),e.$dataStore.devices=t,console.log(e.$dataStore)}));case 2:return t.next=4,fetch("/api/groups").then((function(e){if(500===e.status)throw new Error("Database not connected or database error");return e.json()})).then((function(t){console.log(t),e.$dataStore.groups=t,console.log(e.$dataStore)}));case 4:case"end":return t.stop()}}),t)})))()}}}).$mount("#app")},"793c":function(e,t,a){"use strict";a("d5e3")},"7eec":function(e,t,a){"use strict";a("5b8b")},9170:function(e,t,a){},a604:function(e,t,a){"use strict";a("08ec")},a79d2:function(e,t,a){},b67a:function(e,t,a){"use strict";a("d84a")},c32d:function(e,t){if("undefined"===typeof moment){var a=new Error("Cannot find module 'moment'");throw a.code="MODULE_NOT_FOUND",a}e.exports=moment},c9ef:function(e,t,a){"use strict";a("4a9d")},d270:function(e,t,a){"use strict";a("3e19")},d5e3:function(e,t,a){},d84a:function(e,t,a){},eb11:function(e,t,a){"use strict";a("a79d2")},f080:function(e,t,a){}});
//# sourceMappingURL=managment.7fbd5080.js.map